/* Theme colour overrides for dark and light modes.
 *
 * PaperMod toggles dark mode by adding a `dark` class to the <body> element.
 * These rules set CSS variables based on that class so both the built‑in
 * and any custom theme toggler will work.  When the body has the
 * `dark` class, the dark palette applies; when it does not, the light
 * palette applies.
 */

/* Define separate palettes for dark and light modes.  Both use the
 * signature KBC colours—matte black (#121212), shiny gold (#D4AF37)
 * and blood red (#B22222)—but light mode reverses the foreground and
 * background to maintain legibility. */
body.dark {
  /* Dark background and entries */
  --bg: #121212;
  --entry: #121212;
  /* Light text */
  --fg: #f0f0f0;
  /* Accents */
  --primary: #D4AF37;
  --tertiary: #B22222;
}

body:not(.dark) {
  /* Light background */
  --bg: #f7f7f7;
  --entry: #ffffff;
  /* Dark text */
  --fg: #121212;
  /* Accents remain the same */
  --primary: #D4AF37;
  --tertiary: #B22222;
}

/* Constrain the main content area */
#main {
  max-width: 800px;
  margin-left: auto;
  margin-right: auto;
  padding: 1rem;
}

/* Authentication widget styling */
#user-auth-widget input {
  padding: 0.5rem;
  border-radius: 4px;
  border: 1px solid var(--border, #444);
  background-color: var(--entry);
  color: var(--fg);
}

/* Under-construction banner */
#site-alert {
  position: fixed;
  top: 0.5rem;
  right: 0.5rem;
  padding: 0.3rem 0.6rem;
  background: var(--tertiary);
  color: var(--fg);
  border-radius: 4px;
  z-index: 9999;
  font-size: 0.85rem;
}

/* Add logo as a subtle page background */
body {
  /* Use the transparent version of the logo as a subtle page background */
  /* Layer the transparent logo beneath a semi-opaque overlay so
   * the background is dark enough for text while still showing
   * the emblem.  The linear gradient adds a matte tint for dark
   * pages and a light wash for light pages. */
  background-image:
    /* The linear gradient darkens the page to make the logo subtle.  A 90%
     * opacity keeps the logo barely visible so it does not compete with
     * text content. */
    linear-gradient(rgba(18, 18, 18, 0.9), rgba(18, 18, 18, 0.9)),
    url('/images/logo-gold-transparent.png');
  background-repeat: no-repeat;
  background-position: center center;
  background-size: cover;    /* Fill the page while maintaining aspect ratio */
  background-attachment: fixed;

  /* Set default page colours using the custom variables defined above. */
  background-color: var(--bg);
  color: var(--fg);
}

/* Navigation bar and header styling using matte black */
nav, header {
  background-color: #121212;
}

/* Navigation link colours: gold by default, blood red on hover */
nav a {
  color: #D4AF37;
  transition: color 0.3s ease;
}
nav a:hover,
nav a.active {
  color: #B22222;
}

/* Highlight classes (buttons, links) */
.highlight, .btn, .link {
  color: #D4AF37;
}
.highlight:hover, .btn:hover, .link:hover {
  color: #B22222;
}
